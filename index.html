<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§æˆ¿ç¾é£Ÿé›·é”</title>
    <style>
        /* ä¿®æ­£æ‰‹æ©Ÿç‰ˆé¢è·‘ç‰ˆå•é¡Œ */
        * { box-sizing: border-box; }

        :root {
            --primary-color: #2d3436; /* æ¥µç°¡é»‘ç° */
            --accent-meal: #0984e3;   /* æ­£é¤è— */
            --accent-tea: #e17055;    /* ä¸‹åˆèŒ¶æ©˜ */
            --bg-color: #dfe6e9;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
        }

        h1 { font-size: 2rem; margin-bottom: 10px; letter-spacing: 2px; }
        .subtitle { color: #636e72; font-size: 1rem; margin-bottom: 40px; }

        /* åˆ‡æ›é–‹é—œ (Toggle) */
        .switch-container {
            display: flex;
            background: white;
            border-radius: 50px;
            padding: 5px;
            width: 100%;
            max-width: 350px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }

        .mode-btn {
            flex: 1;
            border: none;
            background: transparent;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            color: #b2bec3;
            cursor: pointer;
            border-radius: 40px;
            transition: all 0.3s;
        }

        /* æ¿€æ´»ç‹€æ…‹ */
        .mode-btn.active-meal { background-color: var(--accent-meal); color: white; box-shadow: 0 2px 10px rgba(9, 132, 227, 0.4); }
        .mode-btn.active-tea { background-color: var(--accent-tea); color: white; box-shadow: 0 2px 10px rgba(225, 112, 85, 0.4); }

        /* å·¨å¤§å‘½é‹æŒ‰éˆ• */
        .destiny-btn {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            border: 8px solid white;
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            cursor: pointer;
            box-shadow: 20px 20px 60px #bec3c9, -20px -20px 60px #ffffff; /* æ“¬æ…‹é¢¨æ ¼ Neumorphism */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        .destiny-btn:active {
            transform: scale(0.95);
            box-shadow: inset 20px 20px 60px #bec3c9, inset -20px -20px 60px #ffffff;
        }

        .destiny-icon { font-size: 3rem; margin-bottom: 10px; }

        /* ç‹€æ…‹æç¤ºæ–‡å­— */
        .status-text {
            margin-top: 30px;
            font-size: 0.9rem;
            color: #636e72;
            height: 20px; /* é ç•™é«˜åº¦é¿å…è·³å‹• */
        }

        .footer {
            position: fixed; bottom: 20px;
            font-size: 0.8rem; color: #b2bec3;
        }

        /* å‹•ç•«æ•ˆæœ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .processing { animation: pulse 0.5s infinite; }

    </style>
</head>
<body>

    <h1>ç§æˆ¿ç¾é£Ÿé›·é”</h1>
    <div class="subtitle">House Special Edition</div>

    <!-- æ¨¡å¼åˆ‡æ› -->
    <div class="switch-container">
        <button class="mode-btn active-meal" id="btn-meal" onclick="switchMode('meal')">æ­£é¤ (200å…§)</button>
        <button class="mode-btn" id="btn-drink" onclick="switchMode('tea')">éš¨æ„ä¸‹åˆèŒ¶</button>
    </div>

    <!-- å‘½é‹æŒ‰éˆ• -->
    <button class="destiny-btn" id="destiny-btn" onclick="spinDestiny()">
        <span class="destiny-icon" id="btn-icon">ğŸ±</span>
        <span id="btn-text">å¹«æˆ‘é¸</span>
    </button>

    <div class="status-text" id="status-text">æº–å‚™å°±ç·’ï¼Œé»æ“ŠæŒ‰éˆ•é–‹å§‹</div>

    <div class="footer">Freddy & Gemini 3 Pro Private Build</div>

    <script>
        // --- ç§æˆ¿è³‡æ–™åº« (ä¸å«éš¨æ©Ÿæƒ…å¢ƒï¼Œç´”åˆ†é¡) ---
        const mealCategories = [
            "ä¾¿ç•¶", "ç‰›è‚‰éºµ", "æ°´é¤ƒ", "é‹è²¼", "ç‚’é£¯", "å’–å“©", 
            "æ—¥å¼è“‹é£¯", "ç¾©å¤§åˆ©éºµ", "å°ç«é‹", "ä¹¾éºµ", "æ»·è‚‰é£¯", 
            "ç´ é£Ÿ", "æ¼¢å ¡", "æ¹¯åŒ…", "ç‡’è‡˜"
        ];

        const teaCategories = [
            "æ‰‹æ–é£²", "å’–å•¡", "é›è›‹ç³•", "è»Šè¼ªé¤…", "è”¥æ²¹é¤…", 
            "ç‚¸é›", "åœ°ç“œçƒ", "è±†èŠ±", "åˆ¨å†°", "ç”œç”œåœˆ", 
            "é¬†é¤…", "ç« é­šç‡’"
        ];

        let currentMode = 'meal';

        function switchMode(mode) {
            currentMode = mode;
            const btnMeal = document.getElementById('btn-meal');
            const btnTea = document.getElementById('btn-drink');
            const btnIcon = document.getElementById('btn-icon');

            if (mode === 'meal') {
                btnMeal.className = 'mode-btn active-meal';
                btnTea.className = 'mode-btn';
                btnIcon.innerText = "ğŸ±";
                document.getElementById('status-text').innerText = "æœå°‹æ¢ä»¶ï¼š4.0â­ + 200å…ƒå…§";
            } else {
                btnMeal.className = 'mode-btn';
                btnTea.className = 'mode-btn active-tea';
                btnIcon.innerText = "ğŸ°";
                document.getElementById('status-text').innerText = "æœå°‹æ¢ä»¶ï¼š4.0â­ + ä¸é™é‡‘é¡";
            }
        }

        function spinDestiny() {
            const btn = document.getElementById('destiny-btn');
            const status = document.getElementById('status-text');
            
            // è¦–è¦ºæ•ˆæœï¼šé–‹å§‹é‹ç®—
            btn.classList.add('processing');
            status.innerText = "æ­£åœ¨æƒæé™„è¿‘ç¾é£Ÿ...";
            
            // éš¨æ©Ÿå»¶é² 0.8ç§’ å¢åŠ å„€å¼æ„Ÿ
            setTimeout(() => {
                btn.classList.remove('processing');
                
                // 1. æ±ºå®šåˆ†é¡
                let list = currentMode === 'meal' ? mealCategories : teaCategories;
                let food = list[Math.floor(Math.random() * list.length)];
                
                // 2. çµ„åˆé­”è¡“é—œéµå­— (Magic Keywords)
                // é—œéµï¼šåŠ ä¸Š "é™„è¿‘" è§¸ç™¼åœ°åœ–å®šä½ï¼ŒåŠ ä¸Š "4é¡†æ˜Ÿä»¥ä¸Š" è§¸ç™¼è©•åˆ†ç¯©é¸
                let query = "";
                
                if (currentMode === 'meal') {
                    // æ­£é¤ï¼šåŠ ä¸Š 200å…ƒé™åˆ¶ (å¹³åƒ¹ / 200å…ƒå…§)
                    // Google æœå°‹æŠ€å·§ï¼šæœ‰æ™‚å€™ "å¹³åƒ¹" æ¯” "200å…ƒ" æ›´æº–
                    query = `é™„è¿‘ è©•åˆ†4.0ä»¥ä¸Š 200å…ƒå…§ ${food}`;
                } else {
                    // ä¸‹åˆèŒ¶ï¼šä¸é™é‡‘é¡
                    query = `é™„è¿‘ è©•åˆ†4.0ä»¥ä¸Š ${food}`;
                }

                status.innerText = `å‘½é‹æ±ºå®šï¼š${food}ï¼`;

                // 3. åŸ·è¡Œè·³è½‰
                setTimeout(() => {
                     const mapUrl = `https://www.google.com/maps/search/${encodeURIComponent(query)}`;
                     window.open(mapUrl, '_blank');
                     // é‡ç½®æ–‡å­—
                     setTimeout(() => { status.innerText = "æº–å‚™å°±ç·’"; }, 2000);
                }, 500);

            }, 800);
        }
    </script>
</body>
</html>
