<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹³åƒ¹ç¾é£Ÿé›·é”</title>
    <style>
        * { box-sizing: border-box; }

        :root {
            --primary-color: #2d3436;
            --accent-meal: #0984e3;
            --accent-tea: #e17055;
            --bg-color: #dfe6e9;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
        }

        h1 { font-size: 2rem; margin-bottom: 10px; letter-spacing: 2px; }
        .subtitle { color: #636e72; font-size: 1rem; margin-bottom: 40px; }

        .switch-container {
            display: flex;
            background: white;
            border-radius: 50px;
            padding: 5px;
            width: 100%;
            max-width: 350px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }

        .mode-btn {
            flex: 1; border: none; background: transparent; padding: 15px;
            font-size: 1.1rem; font-weight: bold; color: #b2bec3; cursor: pointer;
            border-radius: 40px; transition: all 0.3s;
        }

        .mode-btn.active-meal { background-color: var(--accent-meal); color: white; box-shadow: 0 2px 10px rgba(9, 132, 227, 0.4); }
        .mode-btn.active-tea { background-color: var(--accent-tea); color: white; box-shadow: 0 2px 10px rgba(225, 112, 85, 0.4); }

        .destiny-btn {
            width: 220px; height: 220px; border-radius: 50%; border: 8px solid white;
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            font-size: 1.5rem; font-weight: bold; color: var(--primary-color); cursor: pointer;
            box-shadow: 20px 20px 60px #bec3c9, -20px -20px 60px #ffffff;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            outline: none; -webkit-tap-highlight-color: transparent;
        }
        .destiny-btn:active { transform: scale(0.95); box-shadow: inset 20px 20px 60px #bec3c9, inset -20px -20px 60px #ffffff; }

        .destiny-icon { font-size: 3rem; margin-bottom: 10px; }
        .status-text { margin-top: 30px; font-size: 0.9rem; color: #636e72; height: 20px; }
        .footer { position: fixed; bottom: 20px; font-size: 0.8rem; color: #b2bec3; }

    </style>
</head>
<body>

    <h1>å¹³åƒ¹ç¾é£Ÿé›·é”</h1>
    <div class="subtitle">Home-use Special Edition</div>

    <div class="switch-container">
        <button class="mode-btn active-meal" id="btn-meal" onclick="switchMode('meal')">æ­£é¤ (å¹³åƒ¹)</button>
        <button class="mode-btn" id="btn-drink" onclick="switchMode('tea')">éš¨æ„ä¸‹åˆèŒ¶</button>
    </div>

    <button class="destiny-btn" id="destiny-btn" onclick="spinDestiny()">
        <span class="destiny-icon" id="btn-icon">ğŸ±</span>
        <span id="btn-text">æ±ºè½å»</span>
    </button>

    <div class="status-text" id="status-text">æº–å‚™å°±ç·’ï¼Œé»æ“ŠæŒ‰éˆ•é–‹å§‹</div>

    <div class="footer">Freddy & Gemini 3 Pro Private Build</div>

    <script>
        const mealCategories = [
            "ä¾¿ç•¶", "ç‰›è‚‰éºµ", "æ°´é¤ƒ", "é‹è²¼", "ç‚’é£¯", "å’–å“©", 
            "æ—¥å¼è“‹é£¯", "ç¾©å¤§åˆ©éºµ", "å°ç«é‹", "ä¹¾éºµ", "æ»·è‚‰é£¯", 
            "ç´ é£Ÿ", "æ¼¢å ¡", "æ¹¯åŒ…", "ç‡’è‡˜"
        ];

        const teaCategories = [
            "æ‰‹æ–é£²", "å’–å•¡", "é›è›‹ç³•", "è»Šè¼ªé¤…", "è”¥æ²¹é¤…", 
            "ç‚¸é›", "åœ°ç“œçƒ", "è±†èŠ±", "åˆ¨å†°", "ç”œç”œåœˆ", 
            "é¬†é¤…", "ç« é­šç‡’"
        ];

        let currentMode = 'meal';

        function switchMode(mode) {
            currentMode = mode;
            const btnMeal = document.getElementById('btn-meal');
            const btnTea = document.getElementById('btn-drink');
            const btnIcon = document.getElementById('btn-icon');

            if (mode === 'meal') {
                btnMeal.className = 'mode-btn active-meal';
                btnTea.className = 'mode-btn';
                btnIcon.innerText = "ğŸ±";
                document.getElementById('status-text').innerText = "æœå°‹æ¢ä»¶ï¼š4.0â­ + å¹³åƒ¹ç¾é£Ÿ";
            } else {
                btnMeal.className = 'mode-btn';
                btnTea.className = 'mode-btn active-tea';
                btnIcon.innerText = "ğŸ°";
                document.getElementById('status-text').innerText = "æœå°‹æ¢ä»¶ï¼š4.0â­ + ä¸‹åˆèŒ¶";
            }
        }

        function spinDestiny() {
            const btn = document.getElementById('destiny-btn');
            const status = document.getElementById('status-text');
            
            // 1. æ±ºå®šåˆ†é¡
            let list = currentMode === 'meal' ? mealCategories : teaCategories;
            let food = list[Math.floor(Math.random() * list.length)];
            
            // 2. çµ„åˆé—œéµå­—
            let query = "";
            if (currentMode === 'meal') {
                query = `é™„è¿‘ 4é¡†æ˜Ÿ å¹³åƒ¹ ${food}`;
            } else {
                query = `é™„è¿‘ 4é¡†æ˜Ÿ ${food}`;
            }

            // æ›´æ–°ç•«é¢ä¸Šé¡¯ç¤ºçš„æ–‡å­—
            status.innerText = `å‘½é‹æ±ºå®šï¼š${food}ï¼`;

            // 3. å½ˆçª—ç¢ºèª (åŠ å…¥å»¶é²ä»¥ç¢ºä¿æ–‡å­—å…ˆæ›´æ–°)
            setTimeout(() => {
                if (confirm(`å‘½é‹æ±ºå®šåƒï¼š${food}\nè¦ç¾åœ¨å‡ºç™¼å—ï¼Ÿ`)) {
                    const mapUrl = `https://www.google.com/maps/search/${encodeURIComponent(query)}`;

                    // 4. æ™ºæ…§åˆ¤æ–·ï¼šæ‰‹æ©Ÿç›´æ¥è½‰è·³ï¼Œé›»è…¦é–‹æ–°åˆ†é 
                    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

                    if (isMobile) {
                        window.location.href = mapUrl;
                    } else {
                        window.open(mapUrl, '_blank');
                    }
                } else {
                    // æŒ‰ä¸‹å–æ¶ˆï¼Œç”šéº¼éƒ½ä¸åšï¼Œåœç•™åœ¨é é¢ä¸Š
                    // ä½¿ç”¨è€…å¯ä»¥å†æŒ‰ä¸€æ¬¡ã€Œæ±ºè½å»ã€é‡æŠ½
                }
            }, 100);
        }
    </script>
</body>
</html>
